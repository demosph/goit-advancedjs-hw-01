{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FORM_FEEDBACK_KEY = 'feedback-form-state';\r\n\r\nconst formData = {\r\n  email: '',\r\n  message: '',\r\n};\r\n\r\nconst resetFormData = (data) => {\r\n  Object.keys(data).forEach((key) => {\r\n    data[key] = '';\r\n  });\r\n};\r\n\r\nconst getFormData = () => {\r\n  const data = JSON.parse(localStorage.getItem(FORM_FEEDBACK_KEY));\r\n  if (!data) return formData;\r\n\r\n  Object.keys(data).forEach((key) => {\r\n    formData[key] = data[key];\r\n  });\r\n\r\n  return formData\r\n};\r\n\r\nconst isFormDataIsValid = () => {\r\n  const data = getFormData();\r\n  return Object.values(data).every((value) => value);\r\n}\r\n\r\nconst updateFormData = (feedbackForm) => {\r\n  const data = getFormData();\r\n  Object.keys(data).forEach((key) => {\r\n    feedbackForm[key].value = data[key];\r\n  })\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const feedbackForm = document.querySelector('.feedback-form');\r\n\r\n  feedbackForm.addEventListener('input', event => {\r\n    formData[event.target.name] = event.target.value.trim();\r\n    localStorage.setItem(FORM_FEEDBACK_KEY, JSON.stringify(formData));\r\n  });\r\n\r\n  updateFormData(feedbackForm);\r\n\r\n  feedbackForm.addEventListener('submit', (event) => {\r\n    event.preventDefault();\r\n\r\n    if (isFormDataIsValid()) {\r\n      console.log(formData);\r\n      localStorage.removeItem(FORM_FEEDBACK_KEY);\r\n      feedbackForm.reset();\r\n      resetFormData(formData);\r\n    } else {\r\n      alert('Fill please all fields');\r\n    }\r\n  });\r\n});"],"names":["FORM_FEEDBACK_KEY","formData","resetFormData","data","key","getFormData","isFormDataIsValid","value","updateFormData","feedbackForm","event"],"mappings":"oDAAA,MAAMA,EAAoB,sBAEpBC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAiBC,GAAS,CAC9B,OAAO,KAAKA,CAAI,EAAE,QAASC,GAAQ,CACjCD,EAAKC,CAAG,EAAI,EAChB,CAAG,CACH,EAEMC,EAAc,IAAM,CACxB,MAAMF,EAAO,KAAK,MAAM,aAAa,QAAQH,CAAiB,CAAC,EAC/D,OAAKG,GAEL,OAAO,KAAKA,CAAI,EAAE,QAASC,GAAQ,CACjCH,EAASG,CAAG,EAAID,EAAKC,CAAG,CAC5B,CAAG,EAEMH,CACT,EAEMK,EAAoB,IAAM,CAC9B,MAAMH,EAAOE,IACb,OAAO,OAAO,OAAOF,CAAI,EAAE,MAAOI,GAAUA,CAAK,CACnD,EAEMC,EAAkBC,GAAiB,CACvC,MAAMN,EAAOE,IACb,OAAO,KAAKF,CAAI,EAAE,QAASC,GAAQ,CACjCK,EAAaL,CAAG,EAAE,MAAQD,EAAKC,CAAG,CACtC,CAAG,CACH,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMK,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAASC,GAAS,CAC9CT,EAASS,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQV,EAAmB,KAAK,UAAUC,CAAQ,CAAC,CACpE,CAAG,EAEDO,EAAeC,CAAY,EAE3BA,EAAa,iBAAiB,SAAWC,GAAU,CACjDA,EAAM,eAAc,EAEhBJ,EAAiB,GACnB,QAAQ,IAAIL,CAAQ,EACpB,aAAa,WAAWD,CAAiB,EACzCS,EAAa,MAAK,EAClBP,EAAcD,CAAQ,GAEtB,MAAM,wBAAwB,CAEpC,CAAG,CACH,CAAC"}